const $header=$(".page-header"),$headerLogo=$(".logo"),$headerNav=$(".nav"),$headerDropdown=$(".dropdown"),$sidebar=$(".page-sidebar"),$sidebarMenu=$("#menu"),$container=$(".page-container"),$containerTitle=$container.find(":header"),$containerLinks=$container.find("a"),$pageCode=$("pre"),$pageImgs=$("img"),$pageTable=$("table"),$pageDialog=$(".dialog");function PageScroll(a){let e=0;var i;a&&(i=a.css("margin-top")||a.parent().css("margin-top"),e=a.offset().top-$header.height()-Number(i.replace("px",""))),$("body, html").animate({scrollTop:e||0},200)}$header.wrap('<div class="page-header-wrap">'),$sidebar.wrap('<div class="page-sidebar-wrap">'),$container.wrap('<div class="page-container-wrap">');const $sidebarWrap=$(".page-sidebar-wrap");$headerLogo.click(()=>{PageScroll(),$(".active").removeClass("active"),$menuRoot.children(".close").attr("class","open"),$menuSub.children(".open").attr("class","close"),$menuSub.stop().slideDown(200),$menuLast.stop().slideUp(200)}),$headerNav.prepend('<li><a href="../index.html"><i class="fa fa-home"></i>&nbsp;首页</a></li>'),$headerDropdown.parent("li").addClass("with-dropdown"),$header.find("a").attr("target","_blank"),$sidebar.mouseover(()=>{$("body").addClass("no-scroll-y")}),$sidebar.mouseout(()=>{$("body").removeClass("no-scroll-y")});let _index1=0,_index2=0,_index3=0,_id1,_id12,_id123;$container.find("h1,h2,h3").each(function(a){"H1"===this.tagName?(_index1+=1,_index2=0,_index3=0,_id1=_index1,this.dataset.key=_id1,$sidebarMenu.append($("<li>").attr("data-key",_id1).html(`<a>${this.innerText}</a><ul class="menu-sub"></ul>`))):"H2"===this.tagName?(_index2+=1,_index3=0,_id12=_id1+"-"+_index2,this.dataset.key=_id12,$sidebar.find(`li[data-key="${_id1}"]`).children(".menu-sub").append($("<li>").attr("data-key",_id12).html(`<a>${this.innerText}</a><ul class="menu-last"></ul>`))):"H3"===this.tagName&&(_index3+=1,_id123=_id12+"-"+_index3,this.dataset.key=_id123,$sidebar.find(`li[data-key="${_id12}"]`).children(".menu-last").append($("<li>").attr("data-key",_id123).html(`<a>${this.innerText}</a>`)))});const $menuRoot=$(".menu-root"),$menuSub=$(".menu-sub"),$menuLast=$(".menu-last");function MenuActive(a){var e=$menuRoot.find(".active"),i=a.parents("li").children("a"),a=a.parents(".close");e.removeClass("active"),i.addClass("active"),a.attr("class","open"),a.children("ul").stop().slideDown(200)}$menuRoot.find("li").each(function(){var a=$(this),e=a.children("a"),i=a.children("ul"),s=i.attr("class"),t=i.children().length;switch(s){case"menu-sub":0<t?(a.addClass("open"),e.prepend('<i class="fa"></i>')):i.remove();break;case"menu-last":0<t?(a.addClass("close"),e.prepend('<i class="fa"></i>')):i.remove()}}),$menuRoot.find(".fa").click(function(a){var e=$(this).closest("li"),i=e.children("ul");e.toggleClass("open").toggleClass("close"),i.stop().slideToggle(200),a.stopPropagation()}),$menuRoot.find("a").click(function(){MenuActive($(this));var a=this.parentElement.dataset.key;a&&PageScroll($container.find(`[data-key="${a}"]`))}),$containerTitle.click(function(){var a,e=this.dataset.key;e&&(MenuActive(e=$sidebar.find(`li[data-key="${e}"]`).children("a")),a=$sidebarWrap.css("top").replace("px",""),e=$sidebar.scrollTop()+e.offset().top-a-100,$sidebar.animate({scrollTop:e},200)),PageScroll($(this))}),$containerLinks.not("[data-block], [data-dialog]").attr("target","_blank").append('&nbsp;<i class="fa fa-external-link"></i>'),$containerLinks.click(a=>{a.stopPropagation()}),$pageTable.each(function(){var a=this.dataset.height;a?$(this).wrap(`<div class="table-scrollable" style="height: ${a};">`).after('<div class="table-loadmore"></div>'):$(this).wrap('<div class="table-scrollable">')}),$(".table-loadmore").click(function(){$(this).parent(".table-scrollable").css("height","auto"),$(this).remove()}),$("[data-block]").click(function(){var a=this.dataset.block;$(a).slideToggle(200)}),$pageDialog.each(function(){this.innerHTML=`<div class="content"><div class="header"><span class="title">${this.title}</span><span class="close">×</span></div><div class="body">${this.innerHTML}</div></div>`}),$("[data-dialog]").click(function(){var a=this.dataset.dialog;$(a).fadeIn(200),$("body").addClass("no-scroll-y")}),$pageDialog.click(()=>{$pageDialog.fadeOut(200),$("body").removeClass("no-scroll-y")}),$pageDialog.find(".close").click(()=>{$pageDialog.fadeOut(200),$("body").removeClass("no-scroll-y")}),$pageDialog.find(".content").click(a=>{a.stopPropagation()}),hljs.highlightAll(),$pageCode.each(function(){var a=(this.children[0].classList[0]||"code").toUpperCase();$(this).wrap("<figure>"),$(this).before(`<figcaption><span class="left-bar"><i class="fa fa-times-circle"></i><i class="fa fa-minus-circle"></i><i class="fa fa-plus-circle"></i></span><span class="right-bar"><i class="lang">${a}</i><i class="fa fa-code"></i></span></figcaption>`)}),$pageImgs.each(function(){this.src=this.dataset.src,this.removeAttribute("data-src")}),$("body").prepend(`
  <div class="page-handle">
    <span class="fa fa-angle-up" onclick="PageScroll()"></span>
    <span class="fa fa-angle-left"></span>
  </div>`),$(".page-handle .fa-angle-left").on("click",()=>{$("body").toggleClass("without-menu")});